<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Lego Test</title>
  </head>
  <body>
    <!-- lego::define stuff -->
      <table class="<!-- lego::insert $this -->"></table>
    <!-- lego::enddefine -->
    
    <!-- lego::define foo -->
      <div><p>Hello</p></div>
    <!-- lego::enddefine -->

    <!-- lego::foreach arr -->
      <!-- lego::insert $root.stuff -->
    <!-- lego::endforeach -->
    
    <!-- lego::insert foo -->
  </body>
</html>